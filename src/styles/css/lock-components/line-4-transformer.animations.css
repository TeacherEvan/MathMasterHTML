@keyframes level4-expansion {
  0% {
    transform: scale(1) rotateY(0deg);
    border-radius: 15px;
  }
  25% {
    transform: scale(1.2) rotateY(180deg);
    border-radius: 30px;
  }
  50% {
    transform: scale(1.4) rotateY(360deg);
    border-radius: 50%;
  }
  75% {
    transform: scale(1.6) rotateY(540deg);
    border-radius: 50%;
  }
  100% {
    transform: scale(1.8) rotateY(720deg);
    border-radius: 50%;
  }
}

@keyframes arm-extend {
  0% {
    transform: translateX(-50%) scaleY(0);
    opacity: 0;
  }
  50% {
    transform: translateX(-50%) scaleY(0.5);
    opacity: 0.7;
  }
  100% {
    transform: translateX(-50%) scaleY(1);
    opacity: 1;
  }
}

.expansion-arm.east.active,
.expansion-arm.west.active {
  animation: arm-extend-horizontal 2s ease-out forwards;
}

@keyframes arm-extend-horizontal {
  0% {
    transform: translateY(-50%) scaleX(0);
    opacity: 0;
  }
  50% {
    transform: translateY(-50%) scaleX(0.5);
    opacity: 0.7;
  }
  100% {
    transform: translateY(-50%) scaleX(1);
    opacity: 1;
  }
}

@keyframes core-pulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 0 15px rgba(255, 255, 68, 0.8);
  }
  50% {
    transform: scale(1.3);
    box-shadow: 0 0 25px rgba(255, 255, 68, 1);
  }
}

@keyframes electric-discharge {
  0% {
    opacity: 0;
    transform: scaleY(0);
  }
  20% {
    opacity: 1;
    transform: scaleY(0.6);
  }
  40% {
    opacity: 0.8;
    transform: scaleY(1);
  }
  60% {
    opacity: 1;
    transform: scaleY(0.7);
  }
  80% {
    opacity: 0.6;
    transform: scaleY(1.2);
  }
  100% {
    opacity: 0;
    transform: scaleY(0);
  }
}

@keyframes piston-extend {
  0% {
    transform: scaleY(0);
    opacity: 0;
  }
  30% {
    transform: scaleY(0.7);
    opacity: 0.8;
  }
  60% {
    transform: scaleY(1.2);
    opacity: 1;
  }
  100% {
    transform: scaleY(1);
    opacity: 1;
  }
}

@keyframes energy-flow {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  50% {
    opacity: 1;
    transform: translateY(-10px);
  }
  100% {
    opacity: 0;
    transform: translateY(-30px);
  }
}

@keyframes arm-energy-pulse-red {
  0%,
  100% {
    box-shadow: 0 0 30px rgba(255, 68, 68, 1),
      inset 0 2px 12px rgba(255, 255, 255, 0.5);
    background: linear-gradient(
      90deg,
      #ff4444,
      #ff6666,
      #fff,
      #ff6666,
      #ff4444
    );
  }
  50% {
    box-shadow: 0 0 45px rgba(255, 68, 68, 1),
      inset 0 2px 18px rgba(255, 255, 255, 0.7);
    background: linear-gradient(
      90deg,
      #ff6666,
      #ff8888,
      #fff,
      #ff8888,
      #ff6666
    );
  }
}

@keyframes chamber-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes chamber-spin-red {
  0% {
    transform: rotate(0deg);
    box-shadow: 0 0 25px rgba(255, 68, 68, 1),
      inset 0 0 12px rgba(255, 255, 255, 0.3);
  }
  50% {
    box-shadow: 0 0 35px rgba(255, 68, 68, 1),
      inset 0 0 15px rgba(255, 255, 255, 0.4);
  }
  100% {
    transform: rotate(360deg);
    box-shadow: 0 0 25px rgba(255, 68, 68, 1),
      inset 0 0 12px rgba(255, 255, 255, 0.3);
  }
}
