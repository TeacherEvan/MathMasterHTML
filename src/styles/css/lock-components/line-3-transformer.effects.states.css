/* line-3-transformer.effects.states.css - Active states */

.lock-body.warrior-active {
  width: 117px; /* Reduced by 35% from 180px */
  height: 117px; /* Reduced by 35% from 180px */
  background: linear-gradient(145deg, #4a2a4a, #6a4a6a, #4a2a4a);
  border-color: #8a2be2;
  border-radius: 50%; /* Circular transformation */
  transform: scaleY(1.1) scaleX(1.1) rotateY(720deg) rotateZ(360deg); /* Reduced scaling from 1.3x1.3 */
  box-shadow: 0 0 80px rgba(138, 43, 226, 0.9),
    inset 0 0 30px rgba(138, 43, 226, 0.4), 0 0 0 15px rgba(138, 43, 226, 0.3),
    0 0 0 30px rgba(138, 43, 226, 0.15);
  animation: warrior-metamorphosis 3s ease-in-out infinite;
  will-change: transform, opacity; /* Performance optimization */
}

.lock-body.warrior-active .horizontal-arm {
  background: linear-gradient(
    90deg,
    #8a2be2,
    #ba55d3,
    #fff,
    #ba55d3,
    #8a2be2
  ); /* Purple for Level 3 */
  border-color: #8a2be2;
  box-shadow: 0 0 25px rgba(138, 43, 226, 0.9),
    inset 0 2px 10px rgba(255, 255, 255, 0.4);
  animation: arm-energy-pulse-purple 2s ease-in-out infinite;
}

.lock-body.warrior-active .rotating-chamber {
  opacity: 1;
  transform: rotate(360deg) scale(1);
  background: linear-gradient(45deg, #8a2be2, #ba55d3, #8a2be2);
  border-color: #8a2be2;
  box-shadow: 0 0 20px rgba(138, 43, 226, 0.8),
    inset 0 0 10px rgba(255, 255, 255, 0.2);
  animation: chamber-spin 2s linear infinite;
}

.lock-body.warrior-active .rotating-chamber.chamber-1 {
  animation-delay: 0s;
}

.lock-body.warrior-active .rotating-chamber.chamber-2 {
  animation-delay: 0.5s;
}

.lock-body.warrior-active .rotating-chamber.chamber-3 {
  animation-delay: 1s;
}

.lock-body.warrior-active .rotating-chamber.chamber-4 {
  animation-delay: 1.5s;
}

.lock-body.warrior-active .inner-ring {
  opacity: 1;
  border-color: #8a2be2;
  animation: ring-rotation 4s linear infinite;
  box-shadow: 0 0 15px rgba(138, 43, 226, 0.7),
    inset 0 0 10px rgba(138, 43, 226, 0.3);
}

.lock-body.warrior-active .inner-ring::before,
.lock-body.warrior-active .inner-ring::after {
  background: #8a2be2;
  box-shadow: 0 0 8px rgba(138, 43, 226, 0.8);
}

.lock-body.level-3-active .gear-complex {
  opacity: 1;
  transform: rotate(0deg) scale(1);
  border-color: #8a2be2;
  box-shadow: 0 0 15px rgba(138, 43, 226, 0.7);
}

.lock-body.level-3-active .gear-complex.gear-1 {
  animation: gear-clockwise 3s linear infinite;
}

.lock-body.level-3-active .gear-complex.gear-2 {
  animation: gear-counter-clockwise 3s linear infinite;
}

.lock-body.level-3-active .gear-complex.gear-3 {
  animation: gear-clockwise 3s linear infinite reverse;
}

.lock-body.level-3-active .gear-complex.gear-4 {
  animation: gear-counter-clockwise 3s linear infinite reverse;
}

.lock-body.level-3-active .transformer-core {
  background: linear-gradient(45deg, #8a2be2, #ba55d3, #8a2be2);
  border-color: #8a2be2;
  transform: translate(-50%, -50%) rotate(720deg) scale(1.3);
  box-shadow: 0 0 25px rgba(138, 43, 226, 1),
    inset 0 2px 8px rgba(255, 255, 255, 0.3);
  animation: core-pulse 2.5s ease-in-out infinite;
}

.lock-body.level-3-active .transformer-core::before {
  background: radial-gradient(circle, #8a2be2, #4b0082);
  box-shadow: 0 0 15px rgba(138, 43, 226, 0.8);
}

.lock-body.level-3-active .energy-arc {
  opacity: 1;
  animation: arc-discharge 1.8s ease-in-out infinite;
  box-shadow: 0 0 10px rgba(138, 43, 226, 0.8);
}

.lock-body.level-3-active .particle {
  opacity: 1;
  animation: particle-dance 2.2s ease-in-out infinite;
  box-shadow: 0 0 6px rgba(138, 43, 226, 0.8);
}

.lock-body.level-3-active .particle.p1 {
  animation-delay: 0s;
}
.lock-body.level-3-active .particle.p2 {
  animation-delay: 0.3s;
}
.lock-body.level-3-active .particle.p3 {
  animation-delay: 0.6s;
}
.lock-body.level-3-active .particle.p4 {
  animation-delay: 0.9s;
}
.lock-body.level-3-active .particle.p5 {
  animation-delay: 1.2s;
}
.lock-body.level-3-active .particle.p6 {
  animation-delay: 1.5s;
}
.lock-body.level-3-active .particle.p7 {
  animation-delay: 1.8s;
}
.lock-body.level-3-active .particle.p8 {
  animation-delay: 2.1s;
}

.lock-body.level-3-active .shackle {
  border-color: #888;
  box-shadow: 0 0 25px rgba(138, 43, 226, 0.6);
  animation: shackle-vibrate 0.5s ease-in-out infinite;
}
