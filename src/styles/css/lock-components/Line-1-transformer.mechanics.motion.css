/* Mechanical Extensions */
.extension-rails {
  position: absolute;
  width: 5px; /* Reduced from 8px */
  height: 100%;
  background: linear-gradient(180deg, #666, #333);
  border-radius: 3px; /* Reduced from 4px */
  top: 0;
  transition: all 0.8s ease;
}

.extension-rails.left {
  left: -10px; /* Reduced from -15px */
  transform: translateY(0);
}

.extension-rails.right {
  right: -10px; /* Reduced from -15px */
  transform: translateY(0);
}

.lock-body.level-1-active .extension-rails {
  height: 110%;
  background: linear-gradient(180deg, #888, #555);
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.3);
}

.lock-body.level-2-active .extension-rails {
  height: 115%;
  background: linear-gradient(180deg, #999, #666);
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.4);
}

.lock-body.level-3-active .extension-rails {
  height: 120%;
  background: linear-gradient(180deg, #aaa, #777);
  box-shadow: 0 0 12px rgba(0, 255, 0, 0.5);
}

/* Enhanced Mechanical Pistons */
.piston {
  position: absolute;
  width: 5px; /* Reduced from 8px */
  height: 18px; /* Reduced from 25px */
  background: linear-gradient(180deg, #888, #444, #222);
  border-radius: 3px; /* Reduced from 4px */
  border: 1px solid #333;
  transition: all 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1);
}

.piston.top {
  top: -22px; /* Reduced from -30px */
  left: 50%;
  transform: translateX(-50%) scaleY(1);
}

.piston.bottom {
  bottom: -22px; /* Reduced from -30px */
  left: 50%;
  transform: translateX(-50%) scaleY(1);
}

.lock-body.level-1-active .piston.top {
  top: -25px; /* Reduced from -35px */
  height: 25px; /* Reduced from 35px */
  background: linear-gradient(180deg, #0f0, #090, #060, #030);
  border-color: #0f0;
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.6),
    /* Reduced from 10px */ inset 0 2px 4px rgba(255, 255, 255, 0.2);
}

.lock-body.level-1-active .piston.bottom {
  bottom: -25px; /* Reduced from -35px */
  height: 25px; /* Reduced from 35px */
  background: linear-gradient(180deg, #0f0, #090, #060, #030);
  border-color: #0f0;
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.6),
    /* Reduced from 10px */ inset 0 2px 4px rgba(255, 255, 255, 0.2);
}

.lock-body.level-2-active .piston.top {
  top: -40px;
  height: 40px;
  background: linear-gradient(180deg, #1f1, #0a0, #070, #040);
  border-color: #1f1;
  box-shadow: 0 0 12px rgba(0, 255, 0, 0.7),
    inset 0 2px 5px rgba(255, 255, 255, 0.25);
}

.lock-body.level-2-active .piston.bottom {
  bottom: -40px;
  height: 40px;
  background: linear-gradient(180deg, #1f1, #0a0, #070, #040);
  border-color: #1f1;
  box-shadow: 0 0 12px rgba(0, 255, 0, 0.7),
    inset 0 2px 5px rgba(255, 255, 255, 0.25);
}

.lock-body.level-3-active .piston.top {
  top: -45px;
  height: 45px;
  background: linear-gradient(180deg, #2f2, #0b0, #080, #050);
  border-color: #2f2;
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.8),
    inset 0 2px 6px rgba(255, 255, 255, 0.3);
}

.lock-body.level-3-active .piston.bottom {
  bottom: -45px;
  height: 45px;
  background: linear-gradient(180deg, #2f2, #0b0, #080, #050);
  border-color: #2f2;
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.8),
    inset 0 2px 6px rgba(255, 255, 255, 0.3);
}

/* Energy Conduits */
.energy-conduit {
  position: absolute;
  width: 3px; /* Reduced from 4px */
  height: 60px; /* Reduced from 80px */
  background: linear-gradient(180deg, transparent, #333, transparent);
  left: 50%;
  transform: translateX(-50%);
  transition: all 1.2s ease;
  opacity: 0;
}

.energy-conduit.top {
  top: -35px; /* Reduced from -50px */
}

.energy-conduit.bottom {
  bottom: -35px; /* Reduced from -50px */
}

.lock-body.level-1-active .energy-conduit {
  opacity: 1;
  background: linear-gradient(
    180deg,
    rgba(0, 255, 0, 0),
    rgba(0, 255, 0, 0.6),
    rgba(0, 255, 0, 0.8),
    rgba(0, 255, 0, 0.6),
    rgba(0, 255, 0, 0)
  );
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.4);
}

.lock-body.level-2-active .energy-conduit {
  opacity: 1;
  background: linear-gradient(
    180deg,
    rgba(0, 255, 0, 0),
    rgba(0, 255, 0, 0.7),
    rgba(0, 255, 0, 0.9),
    rgba(0, 255, 0, 0.7),
    rgba(0, 255, 0, 0)
  );
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
}

.lock-body.level-3-active .energy-conduit {
  opacity: 1;
  background: linear-gradient(
    180deg,
    rgba(0, 255, 0, 0),
    rgba(0, 255, 0, 0.8),
    rgba(0, 255, 0, 1),
    rgba(0, 255, 0, 0.8),
    rgba(0, 255, 0, 0)
  );
  box-shadow: 0 0 12px rgba(0, 255, 0, 0.6);
}
