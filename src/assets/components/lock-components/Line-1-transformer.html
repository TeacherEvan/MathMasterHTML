<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 1 Lock Transformer - Basic Extension</title>
    <link rel="stylesheet" href="/src/styles/css/lock-components/Line-1-transformer.css">
</head>
</head>

<body>
    <div class="lock-container">
        <div class="shackle"></div>

        <div class="lock-body" id="lockBody">
            <!-- Energy Conduits -->
            <div class="energy-conduit top"></div>
            <div class="energy-conduit bottom"></div>

            <!-- Mechanical Extensions -->
            <div class="extension-rails left"></div>
            <div class="extension-rails right"></div>

            <!-- Enhanced Pistons -->
            <div class="piston top"></div>
            <div class="piston bottom"></div>

            <!-- Gears -->
            <div class="gear left"></div>
            <div class="gear right"></div>

            <!-- Central Keyhole -->
            <div class="keyhole"></div>
        </div>
    </div>

    <div class="control-panel">
        <button class="btn" onclick="activateLevel1()">Activate Level 1</button>
        <button class="btn" onclick="resetLock()">Reset</button>
    </div>

    <script>
        // Level 1 Lock Controller
        class Level1Lock {
            constructor() {
                this.lockBody = document.getElementById('lockBody');
                this.isActive = false;
                // DON'T auto-activate - wait for game trigger
            }

            activate() {
                if (!this.isActive) {
                    this.lockBody.classList.add('level-1-active');
                    this.isActive = true;

                    // Trigger mechanical sound effect (if audio system exists)
                    this.playMechanicalSound();

                    console.log('ðŸ”’ Level 1 Lock: Extended and Activated');
                }
            }

            reset() {
                this.lockBody.classList.remove('level-1-active');
                this.isActive = false;
                console.log('ðŸ”’ Level 1 Lock: Reset to Base State');
            }

            playMechanicalSound() {
                // Placeholder for mechanical extension sound
                // Could integrate with Web Audio API
                console.log('ðŸ”§ Mechanical Extension Sound: WHIRR-CLANK');
            }

            getStatus() {
                return {
                    level: 1,
                    name: 'Basic Extension',
                    active: this.isActive,
                    description: 'Lock extends vertically with mechanical rails and pistons'
                };
            }
        }

        // Global instance
        const level1Lock = new Level1Lock();

        // Control functions
        function activateLevel1() {
            level1Lock.activate();
        }

        function resetLock() {
            level1Lock.reset();
        }

        // API for integration with main game
        window.Level1Lock = {
            activate: () => level1Lock.activate(),
            reset: () => level1Lock.reset(),
            getStatus: () => level1Lock.getStatus(),
            isActive: () => level1Lock.isActive
        };

        // Auto-demo (optional)
        setTimeout(() => {
            console.log('Level 1 Lock Component Loaded and Ready');
        }, 100);
    </script>
</body>

</html>