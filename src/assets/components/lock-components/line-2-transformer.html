<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 2 Lock Transformer - Horizontal Expansion</title>
    <link rel="stylesheet" href="/src/styles/css/lock-components/line-2-transformer.css">
</head>

<body>
    <div class="lock-container">
        <div class="shackle"></div>

        <div class="lock-body" id="lockBody">
            <!-- Energy Sparks -->
            <div class="energy-spark spark-1"></div>
            <div class="energy-spark spark-2"></div>
            <div class="energy-spark spark-3"></div>
            <div class="energy-spark spark-4"></div>

            <!-- Enhanced Horizontal Arms -->
            <div class="horizontal-arm left">
                <div class="joint left"></div>
                <div class="hydraulic-piston left"></div>
            </div>
            <div class="horizontal-arm right">
                <div class="joint right"></div>
                <div class="hydraulic-piston right"></div>
            </div>

            <!-- Enhanced Gears -->
            <div class="gear left"></div>
            <div class="gear right"></div>

            <!-- Mechanical Bolts -->
            <div class="bolt top-left"></div>
            <div class="bolt top-right"></div>
            <div class="bolt bottom-left"></div>
            <div class="bolt bottom-right"></div>

            <!-- Central Keyhole -->
            <div class="keyhole"></div>
        </div>
    </div>

    <div class="control-panel">
        <button class="btn" onclick="activateLevel2()">Activate Level 2</button>
        <button class="btn" onclick="resetLock()">Reset</button>
    </div>

    <script>
        // Level 2 Lock Controller
        class Level2Lock {
            constructor() {
                this.lockBody = document.getElementById('lockBody');
                this.isActive = false;
            }

            activate() {
                if (!this.isActive) {
                    this.lockBody.classList.add('level-2-active');
                    this.isActive = true;

                    // Trigger mechanical sound effect
                    this.playMechanicalSound();

                    console.log('Level 2 Lock: Horizontal Arms Extended');
                }
            }

            reset() {
                this.lockBody.classList.remove('level-2-active');
                this.isActive = false;
                console.log('Level 2 Lock: Reset to Base State');
            }

            playMechanicalSound() {
                // Placeholder for horizontal extension sound
                console.log('ðŸ”§ Horizontal Extension Sound: WHIRR-CLANK-EXTEND');
            }

            getStatus() {
                return {
                    level: 2,
                    name: 'Horizontal Expansion',
                    active: this.isActive,
                    description: 'Lock extends horizontally with mechanical arms and hydraulic pistons'
                };
            }
        }

        // Global instance
        const level2Lock = new Level2Lock();

        // Control functions
        function activateLevel2() {
            level2Lock.activate();
        }

        function resetLock() {
            level2Lock.reset();
        }

        // API for integration with main game
        window.Level2Lock = {
            activate: () => level2Lock.activate(),
            reset: () => level2Lock.reset(),
            getStatus: () => level2Lock.getStatus(),
            isActive: () => level2Lock.isActive
        };

        // Auto-demo (optional)
        setTimeout(() => {
            console.log('Level 2 Lock Component Loaded and Ready');
        }, 100);
    </script>
</body>

</html>