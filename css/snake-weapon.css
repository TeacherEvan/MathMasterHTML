/* Snake Weapon Styles - Red Snake with Performance Optimizations */

/* === SNAKE CONTAINER === */
.snake-weapon {
    position: absolute;
    display: flex;
    align-items: center;
    z-index: 15000 !important;
    /* Above worms (10000) */
    pointer-events: none;
    /* Snake cannot be clicked */
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.9)) drop-shadow(0 0 15px rgba(255, 0, 0, 0.8));
    opacity: 1 !important;
    visibility: visible !important;
    will-change: transform;
    /* GPU acceleration hint */
}

/* === SNAKE BODY AND SEGMENTS === */
.snake-body {
    display: flex;
    align-items: center;
    position: relative;
}

.snake-segment {
    width: 18px;
    height: 18px;
    background: radial-gradient(circle at 30% 30%, #ff3333, #ff0000, #cc0000);
    border: 2px solid #ff0000;
    border-radius: 50%;
    margin-left: -4px;
    animation: snake-slither 1s ease-in-out infinite;
    animation-delay: calc(var(--segment-index, 0) * 0.1s);
    position: relative;
    /* Scale texture effect using box-shadow */
    box-shadow:
        inset 0 2px 4px rgba(255, 100, 100, 0.5),
        inset 0 -2px 4px rgba(100, 0, 0, 0.5),
        0 2px 4px rgba(0, 0, 0, 0.8),
        0 0 8px rgba(255, 0, 0, 0.6);
    opacity: 1 !important;
    transition: transform 0.05s linear;
    /* Smooth segment movement */
}

/* Segment size variation for organic look */
.snake-segment:nth-child(2n) {
    width: 17px;
    height: 17px;
}

.snake-segment:nth-child(3n) {
    width: 16px;
    height: 16px;
}

/* === SNAKE HEAD === */
.snake-head {
    --segment-index: 0;
    width: 24px !important;
    height: 24px !important;
    background: radial-gradient(circle at 30% 30%, #ff6666, #ff3333, #cc0000);
    border: 2.5px solid #ff0000;
    box-shadow:
        inset 0 2px 5px rgba(255, 150, 150, 0.6),
        inset 0 -2px 5px rgba(150, 0, 0, 0.6),
        0 2px 6px rgba(0, 0, 0, 0.9),
        0 0 12px rgba(255, 0, 0, 0.8);
    z-index: 10;
    position: relative;
}

/* Snake eyes */
.snake-head::before {
    content: '';
    position: absolute;
    top: 6px;
    left: 50%;
    transform: translateX(-50%);
    width: 14px;
    height: 6px;
    background: none;
    /* Two eyes */
    box-shadow:
        -4px 0 0 2px #ffff00,
        4px 0 0 2px #ffff00,
        -4px 0 0 1px rgba(0, 0, 0, 0.8),
        4px 0 0 1px rgba(0, 0, 0, 0.8);
    border-radius: 50%;
    z-index: 2;
}

/* Forked tongue (appears on hover or when eating) */
.snake-head::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 12px;
    background: linear-gradient(180deg, #ff0000 0%, #ff6666 50%, transparent 100%);
    animation: tongue-flick 0.8s ease-in-out infinite;
    opacity: 0.8;
}

/* Forked tip of tongue */
.snake-head::after {
    clip-path: polygon(50% 0%,
            45% 60%, 30% 100%,
            50% 80%,
            70% 100%, 55% 60%);
}

/* === ANIMATIONS === */

/* Slithering motion */
@keyframes snake-slither {

    0%,
    100% {
        transform: translateY(0) scale(1);
    }

    50% {
        transform: translateY(-2px) scale(1.05);
    }
}

/* Tongue flicking */
@keyframes tongue-flick {

    0%,
    80%,
    100% {
        transform: translateX(-50%) scaleY(0.5);
        opacity: 0.4;
    }

    40% {
        transform: translateX(-50%) scaleY(1.2);
        opacity: 1;
    }
}

/* Eating animation (head enlarges when chomping) */
.snake-head.eating {
    animation: snake-chomp 0.3s ease-out;
}

@keyframes snake-chomp {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.4);
        filter: brightness(1.5);
    }

    100% {
        transform: scale(1);
    }
}

/* Eating flash animation */
@keyframes eating-flash {
    0% {
        opacity: 0;
    }

    50% {
        opacity: 0.4;
    }

    100% {
        opacity: 0;
    }
}

/* === LOCK FLASH (when snake already used) === */
@keyframes lock-flash-red {

    0%,
    100% {
        filter: brightness(1);
    }

    50% {
        filter: brightness(2) drop-shadow(0 0 20px rgba(255, 0, 0, 0.8));
    }
}

/* === SCALE PATTERN (Optional Detail) === */
/* Add subtle scale pattern to segments using pseudo-elements */
.snake-segment:not(.snake-head)::before {
    content: '';
    position: absolute;
    top: 20%;
    left: 20%;
    width: 60%;
    height: 60%;
    background: radial-gradient(circle,
            rgba(255, 100, 100, 0.3) 0%,
            transparent 60%);
    border-radius: 50%;
    pointer-events: none;
}

/* Alternating scale highlights for depth */
.snake-segment:nth-child(2n)::before {
    top: 30%;
    left: 30%;
    width: 50%;
    height: 50%;
    background: radial-gradient(circle,
            rgba(200, 0, 0, 0.2) 0%,
            transparent 50%);
}

/* === PERFORMANCE OPTIMIZATIONS === */

/* Use transform instead of top/left for movement */
.snake-weapon {
    transform: translate3d(0, 0, 0);
    /* Force GPU layer */
}

/* Reduce repaints during animation */
.snake-segment {
    backface-visibility: hidden;
    perspective: 1000px;
}

/* === MOBILE RESPONSIVE === */
@media (max-width: 768px) {
    .snake-segment {
        width: 14px;
        height: 14px;
        border-width: 1.5px;
    }

    .snake-head {
        width: 18px !important;
        height: 18px !important;
        border-width: 2px;
    }

    /* Reduce shadow complexity on mobile */
    .snake-weapon {
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.8));
    }

    .snake-segment {
        box-shadow:
            inset 0 1px 2px rgba(255, 100, 100, 0.4),
            0 1px 2px rgba(0, 0, 0, 0.6);
    }
}